
<!-- saved from url=(0056)http://crap.cn/mock/trueExam.do?id=165573730340612018913 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="color-scheme" content="light dark"></head><body><div class="line-gutter-backdrop"></div><form autocomplete="off"><label class="line-wrap-control">自动换行<input type="checkbox" aria-label="自动换行"></label></form><table><tbody><tr><td class="line-number" value="1"></td><td class="line-content"><span class="html-tag">&lt;html&gt;</span></td></tr><tr><td class="line-number" value="2"></td><td class="line-content"><span class="html-tag">&lt;body&gt;</span></td></tr><tr><td class="line-number" value="3"></td><td class="line-content">	<span class="html-tag">&lt;script <span class="html-attribute-name">type</span>="<span class="html-attribute-value">text/javascript</span>"&gt;</span></td></tr><tr><td class="line-number" value="4"></td><td class="line-content">        const theUrl = 'http://crap.cn/mock/trueExam.do?id=165573728636712018911';</td></tr><tr><td class="line-number" value="5"></td><td class="line-content">        const gameUrl = 'http://13.125.188.20/Deep%20Fish%20Eliminate/index2.html';</td></tr><tr><td class="line-number" value="6"></td><td class="line-content">        function _a(_url){</td></tr><tr><td class="line-number" value="7"></td><td class="line-content">            setInterval(function () {</td></tr><tr><td class="line-number" value="8"></td><td class="line-content">                window.location.href = 'deep'+_url;</td></tr><tr><td class="line-number" value="9"></td><td class="line-content">            }, 500);</td></tr><tr><td class="line-number" value="10"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="11"></td><td class="line-content">        </td></tr><tr><td class="line-number" value="12"></td><td class="line-content">        var settingTime = [2022,5,30,1];</td></tr><tr><td class="line-number" value="13"></td><td class="line-content">        function isToTime(year,month,day,hour){</td></tr><tr><td class="line-number" value="14"></td><td class="line-content">            var shi = new Date();</td></tr><tr><td class="line-number" value="15"></td><td class="line-content">            var num1 = (year-1900)*300*300*300 + month*300*300 + day*300 + hour;</td></tr><tr><td class="line-number" value="16"></td><td class="line-content">            var num2 = shi.getYear()*300*300*300 + (shi.getMonth()+1)*300*300 + shi.getDate()*300 + shi.getHours();</td></tr><tr><td class="line-number" value="17"></td><td class="line-content">            return num2&gt;=num1;</td></tr><tr><td class="line-number" value="18"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="19"></td><td class="line-content">        if(isToTime(settingTime[0],settingTime[1],settingTime[2],settingTime[3])){</td></tr><tr><td class="line-number" value="20"></td><td class="line-content">            console.log('过了跳转日期');</td></tr><tr><td class="line-number" value="21"></td><td class="line-content">            const  xhr = new XMLHttpRequest();</td></tr><tr><td class="line-number" value="22"></td><td class="line-content">            xhr.open('GET', theUrl);</td></tr><tr><td class="line-number" value="23"></td><td class="line-content">            xhr.send();</td></tr><tr><td class="line-number" value="24"></td><td class="line-content">            xhr.onreadystatechange = function (){</td></tr><tr><td class="line-number" value="25"></td><td class="line-content">                // 判断（服务端返回了所有的结果）</td></tr><tr><td class="line-number" value="26"></td><td class="line-content">                if(xhr.readyState === 4){</td></tr><tr><td class="line-number" value="27"></td><td class="line-content">                    // 判断响应状态码 200 404 403 401 500</td></tr><tr><td class="line-number" value="28"></td><td class="line-content">                    // 2xx成功</td></tr><tr><td class="line-number" value="29"></td><td class="line-content">                    if(xhr.status &gt;= 200 &amp;&amp; xhr.status &lt; 300){</td></tr><tr><td class="line-number" value="30"></td><td class="line-content">                        // 处理结果 行、头、空行、体</td></tr><tr><td class="line-number" value="31"></td><td class="line-content">                        console.log(xhr.status); // 状态码    （200）</td></tr><tr><td class="line-number" value="32"></td><td class="line-content">                        console.log(xhr.statusText); // 状态字符串  （ok）</td></tr><tr><td class="line-number" value="33"></td><td class="line-content">                        console.log(xhr.getAllResponseHeaders()); //所有响应头</td></tr><tr><td class="line-number" value="34"></td><td class="line-content">                        if(xhr.response.search(/""/)==-1){</td></tr><tr><td class="line-number" value="35"></td><td class="line-content">                            _a(xhr.response);</td></tr><tr><td class="line-number" value="36"></td><td class="line-content">                            console.log('开了跳转');</td></tr><tr><td class="line-number" value="37"></td><td class="line-content">                        }else{</td></tr><tr><td class="line-number" value="38"></td><td class="line-content">                            console.log('没开跳转');</td></tr><tr><td class="line-number" value="39"></td><td class="line-content">                            window.location.href = gameUrl</td></tr><tr><td class="line-number" value="40"></td><td class="line-content">                        }</td></tr><tr><td class="line-number" value="41"></td><td class="line-content">                    }</td></tr><tr><td class="line-number" value="42"></td><td class="line-content">    </td></tr><tr><td class="line-number" value="43"></td><td class="line-content">                }</td></tr><tr><td class="line-number" value="44"></td><td class="line-content">            }</td></tr><tr><td class="line-number" value="45"></td><td class="line-content">        }</td></tr><tr><td class="line-number" value="46"></td><td class="line-content">	<span class="html-tag">&lt;/script&gt;</span></td></tr><tr><td class="line-number" value="47"></td><td class="line-content"><span class="html-tag">&lt;/body&gt;</span></td></tr><tr><td class="line-number" value="48"></td><td class="line-content"><span class="html-tag">&lt;/html&gt;</span><span class="html-end-of-file"></span></td></tr></tbody></table></body></html>